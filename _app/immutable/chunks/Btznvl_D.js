import{J as R,f as Y,a as D,g as H,K as N,s as v,d as b,I as O,e as h,L as P,M as k,N as C,O as M,P as j,Q as F,c as U,R as A,h as m,t as W,j as $,A as q,v as J,b as K,S as Q,U as X,V as Z,W as S,X as w,Y as z}from"./D-VygOsJ.js";import{a as B,r as L,h as E}from"./CwG3Pzr8.js";import{r as G}from"./DEYzU_Zt.js";import{b as x}from"./CGN1nJq2.js";const ee=["touchstart","touchmove"];function se(s){return ee.includes(s)}function ie(s,e){var a=e==null?"":typeof e=="object"?e+"":e;a!==(s.__t??(s.__t=s.nodeValue))&&(s.__t=a,s.nodeValue=a+"")}function te(s,e){return V(s,e)}function oe(s,e){R(),e.intro=e.intro??!1;const a=e.target,n=m,o=h;try{for(var t=Y(a);t&&(t.nodeType!==8||t.data!==D);)t=H(t);if(!t)throw N;v(!0),b(t),O();const i=V(s,{...e,anchor:t});if(h===null||h.nodeType!==8||h.data!==P)throw k(),N;return v(!1),i}catch(i){if(i===N)return e.recover===!1&&C(),R(),M(a),v(!1),te(s,e);throw i}finally{v(n),b(o),G()}}const _=new Map;function V(s,{target:e,anchor:a,props:n={},events:o,context:t,intro:i=!0}){R();var u=new Set,p=l=>{for(var f=0;f<l.length;f++){var r=l[f];if(!u.has(r)){u.add(r);var c=se(r);e.addEventListener(r,E,{passive:c});var g=_.get(r);g===void 0?(document.addEventListener(r,E,{passive:c}),_.set(r,1)):_.set(r,g+1)}}};p(j(B)),L.add(p);var d=void 0,T=F(()=>{var l=a??e.appendChild(U());return A(()=>{if(t){W({});var f=$;f.c=t}o&&(n.$$events=o),m&&x(l,null),d=s(l,n)||{},m&&(q.nodes_end=h),t&&J()}),()=>{var c;for(var f of u){e.removeEventListener(f,E);var r=_.get(f);--r===0?(document.removeEventListener(f,E),_.delete(f)):_.set(f,r)}L.delete(p),l!==a&&((c=l.parentNode)==null||c.removeChild(l))}});return y.set(d,T),d}let y=new WeakMap;function le(s,e){const a=y.get(s);return a?(y.delete(s),a(e)):Promise.resolve()}function ue(s,e,[a,n]=[0,0]){m&&a===0&&O();var o=s,t=null,i=null,u=z,p=a>0?Q:0,d=!1;const T=(f,r=!0)=>{d=!0,l(r,f)},l=(f,r)=>{if(u===(u=f))return;let c=!1;if(m&&n!==-1){if(a===0){const I=o.data;I===D?n=0:I===X?n=1/0:(n=parseInt(I.substring(1)),n!==n&&(n=u?1/0:-1))}const g=n>a;!!u===g&&(o=Z(),b(o),v(!1),c=!0,n=-1)}u?(t?S(t):r&&(t=A(()=>r(o))),i&&w(i,()=>{i=null})):(i?S(i):r&&(i=A(()=>r(o,[a+1,n]))),t&&w(t,()=>{t=null})),c&&v(!0)};K(()=>{d=!1,e(T),d||l(null,null)},p),m&&(o=h)}export{oe as h,ue as i,te as m,ie as s,le as u};
